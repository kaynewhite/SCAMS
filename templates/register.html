{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
{% endblock %}

{% block content %}
<div class="register-container">
    <div class="register-form">
        <h2>Student Registration</h2>
        <form method="POST" action="{{ url_for('register') }}">
            <div class="form-group">
                <label for="student_number">Student Number (Format: 022*-****):</label>
                <input type="text" id="student_number" name="student_number" pattern="022\d-\d{4}" required>
            </div>
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="course">Course:</label>
                <select id="course" name="course" required>
                    <option value="">Select Course</option>
                    <option value="IT">IT</option>
                    <option value="IS">IS</option>
                    <option value="CS">CS</option>
                </select>
            </div>
            <div class="form-group">
                <label for="year">Year Level:</label>
                <select id="year" name="year" required onchange="toggleMajorField()">
                    <option value="">Select Year</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
            </div>
            <div id="major-field" class="form-group" style="display:none;">
                <label for="major">Major:</label>
                <select id="major" name="major">
                    <option value="">Select Major</option>
                    <option value="WMAD">WMAD</option>
                    <option value="AMG">AMG</option>
                    <option value="SMP">SMP</option>
                    <option value="NETAD">NETAD</option>
                </select>
            </div>
            <div class="form-group">
                <label for="section">Section:</label>
                <select id="section" name="section" required>
                    <option value="">Select Section</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                </select>
            </div>
            <button type="submit" class="btn-primary">Register</button>
        </form>
        
        <div class="form-actions">
            <a href="{{ url_for('login') }}" class="btn-secondary">Back to Login</a>
        </div>
    </div>
</div>

<script>
function toggleMajorField() {
    const year = document.getElementById('year').value;
    document.getElementById('major-field').style.display = (year === '3' || year === '4') ? 'block' : 'none';
}
</script>
{% endblock %}